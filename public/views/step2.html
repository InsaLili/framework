<div class="container" ng-controller="CtrlStep2">
	<div class="col-md-12">
		<div class="showStep">
			<h3>Step 2/3: define the flow of the application</h3>
			<button class="btn btn-default" data-toggle="collapse" data-target="#instruction">? Instruction</button>
			<div id="instruction" class="panel-collapse collapse">
				<p>A decision making process awlays contains following stages. </p>
				<ul>
					<li>Stage 1 (optional): define criteria for evaluating options.</li>
					<li>Stage 2: analyze and evaluate each option; </li>
					<li>Stage 3: compare options and make decision; </li>
					<li>Stage 4 (optional): justification. </li>
				</ul>
				<p>In this part, you will define how students are going to perform the activity.</p>
			</div>
		</div>
		<!-- set the corrdination of the map -->
		<div class="jumbotron" id="items">
			<div class="row">
				<div class="col-md-offset-1 col-md-10">
										<form class="row item seqForm" id="unseqForm">
						<div class="row radio col-md-4">
							<h4><input type="radio" name="sequence" value="unrestricted" ng-model="mapstep2.seqtype">Unrestricted sequence</h4>				
							<div class="row caption">
								<p>(Evaluating and choosing stages are mixed. Students can make the choice while they are checking and evaluating options.)</p>
							</div>
						</div>
						<div class="col-md-8" ng-show="mapstep2.seqtype == 'unrestricted'">
							<div class="panel-group col-md-12">
								<div class="panel panel-default">
									<!-- optional step0 -->
									<div class="panel-heading">
										<h4 class="panel-title" ng-class="{grey: !mapstep2.unseq.s0.exist}">
										    <input type="checkbox" ng-model="mapstep2.unseq.s0.exist">
										    Stage 1 (optional): define criteria for evaluating options
										</h4>
									</div>
									<div id="s0t0un" ng-show="mapstep2.unseq.s0.exist">
										<div class="form-horizontal markerArea"role="form">
											<!-- cuostomized title -->
											<div class="form-group">
												<label class="control-label col-md-3" for="uns0title">
													Title
												</label>
												<div class="col-md-9">
													<input type="text" class="form-control" name="uns0title" ng-model="mapstep2.unseq.s0.title" required>
												</div>
											</div>
											<!-- pop-up dialogue -->
											<div class="form-group">
												<label class="control-label col-md-3" for="uns0dlg">
													Guidance in the 
													<br>
													pop-up dialogue
												</label>
												<div class="col-md-9">
													<textarea class="form-control" name="uns0dlg" ng-model="mapstep2.unseq.s0.dlg" placeholder="Detailed description in the pop-up dialog" rows="4" required></textarea>
												</div>
											</div>					
										</div>
									</div>
								</div>
								<div class="panel panel-default">
									<!-- step title -->
									<div class="panel-heading">
										<h4 class="panel-title">Stage 2: analyze, evaluate alternatives and make decision</h4>
									</div>
									<div class="form-horizontal markerArea" role="form">
										<!-- customised title -->
										<div class="form-group">
											<label class="control-label col-md-3" for="uns1title">
												Title
											</label>
											<div class="col-md-9">
												<input type="text" class="form-control" name="uns1title" ng-model="mapstep2.unseq.s1.title" required>
											</div>
										</div>
										<!-- pop-up dialogue -->
										<div class="form-group">
											<label class="control-label col-md-3" for="uns1dlg">
												Guidance in the 
												<br>
												pop-up dialogue
											</label>
											<div class="col-md-9">
												<textarea class="form-control" name="uns1dlg" ng-model="mapstep2.unseq.s1.dlg" placeholder="Detailed description in the pop-up dialog" rows="4" required></textarea>
											</div>
										</div>
										<!-- choose evaluation scale -->
										<div class="form-group">
											<div class="col-md-6">
												<label class="control-label">Identify the evaluation scale (number of stars):</label>
											</div>
											<div class="col-md-2">
												<input type="number" name="unstars" step="any" class="form-control" ng-model="mapstep2.unseq.s1.scale" required>
											</div>
											<div class="col-md-2">
												<label class="control-label">stars</label>
											</div>
										</div>				
									</div>
								</div>
								<div class="panel panel-default">
									<!-- step title -->
									<div class="panel-heading">
										<h4 class="panel-title" ng-class="{grey: !mapstep2.unseq.s2.exist}">
										    <input type="checkbox" ng-model="mapstep2.unseq.s2.exist">
										    Stage 3 (optional): justification
										</h4>
									</div>
									<div id="s2t3" ng-show="mapstep2.unseq.s2.exist">
										<div class="form-horizontal markerArea"role="form">
											<!-- customized title -->
											<div class="form-group">
												<label class="control-label col-md-3" for="uns2title">
													Title
												</label>
												<div class="col-md-9">
													<input type="text" class="form-control" name="uns2title" ng-model="mapstep2.unseq.s2.title" required>
												</div>
											</div>
											<!-- pop-up dialogue -->
											<div class="form-group">
												<label class="control-label col-md-3" for="uns2dlg">
													Guidance in the 
													<br>
													pop-up dialogue
												</label>
												<div class="col-md-9">
													<textarea class="form-control" name="uns2dlg" ng-model="mapstep2.unseq.s2.dlg" placeholder="Detailed description in the pop-up dialog" rows="4" required></textarea>
												</div>
											</div>					
										</div>
									</div>
								</div>
							</div> 
						</div>
					</form>
					<form class="row item seqForm" id="reseqForm">
						<div class="row radio col-md-4">
							<h4><input type="radio" name="sequence" value="restricted" ng-model="mapstep2.seqtype">Restricted sequence</h4>
							<div class="row caption">
								<p>(Students have to evaluate all the options in the restricted sequence before they can move to the next stage to make the choice.)</p>
							</div>
						</div>
						<div class="col-md-8" ng-show="mapstep2.seqtype == 'restricted'">
							<div class="panel-group col-md-12" id="s1steps">
								<div class="panel panel-default">
									<!-- optional step0 -->
									<div class="panel-heading">
										<h4 class="panel-title" ng-class="{grey: !mapstep2.reseq.s0.exist}">
										    <input type="checkbox" ng-model="mapstep2.reseq.s0.exist">
										    <a data-toggle="collapse" data-parent="#s1steps" data-target="#s1s0">Stage 1 (optional): define criteria for evaluating options</a>
										</h4>
									</div>
									<div id="s1s0" ng-show="mapstep2.reseq.s0.exist" class="panel-collapse collapse">
										<div class="form-horizontal markerArea">
											<!-- cuostomized title -->
											<div class="form-group">
												<label for="res0title" class="control-label col-md-3">
													Title
												</label>
												<div class="col-md-9">
													<input type="text" name="res0title" class="form-control" ng-model="mapstep2.reseq.s0.title" required>
												</div>
											</div>
											<!-- pop-up dialogue -->
											<div class="form-group">
												<label for="res0dlg" class="control-label col-md-3">
													Guidance in the 
													<br>
													pop-up dialogue
												</label>
												<div class="col-md-9">
													<textarea class="form-control" name="res0dlg" ng-model="mapstep2.reseq.s0.dlg" placeholder="Detailed description in the pop-up dialog" rows="4" required></textarea>
												</div>
											</div>					
										</div>
									</div>
								</div>
								<!-- step 1 -->
								<div class="panel panel-default">
									<div class="panel-heading">
										<h4 class="panel-title">
											<a data-toggle="collapse" data-parent="#s1steps" data-target="#s1s1">Stage 2: analyze and evaluate each option</a>

										  <!-- <a  data-toggle="collapse" data-parent="#s1steps" href="#s1s1">Step 1: analyze and evaluate each alternative</a> -->
										</h4>
									</div>
									<div class="panel-collapse collapse" id="s1s1">
										<div class="form-horizontal markerArea">
											<!-- customized title -->
											<div class="form-group">
												<label for="res1title" class="control-label col-md-3">
													Title
												</label>
												<div class="col-md-9">
													<input type="text" name="res1title" class="form-control" ng-model="mapstep2.reseq.s1.title" required>
												</div>
											</div>
											<!-- pop-up dialogue -->
											<div class="form-group">
												<label for="res1dlg" class="control-label col-md-3">
													Guidance in the 
													<br>
													pop-up dialogue
												</label>
												<div class="col-md-9">
													<textarea class="form-control" name="res1dlg" ng-model="mapstep2.reseq.s1.dlg" placeholder="Detailed description in the pop-up dialog" rows="4" required></textarea>
												</div>
											</div>		
											<!-- choose evaluation condition -->
											<div class="form-group">
												<div class="col-md-12">
													<label class="control-label pull-left">
														Choose which evaluation condition to use to enable step2:
													</label>
												</div>
												<div class="col-md-12 btn-group">
													<div class="radio col-md-12">
														<label><input type="radio" name="t1eval" value="individual" ng-model="mapstep2.reseq.s1.eval" required>E1: Each student needs to evaluate all the options</label>
													</div>
													<div class="radio col-md-12">
														<label><input type="radio" name="t1eval" value="group" ng-model="mapstep2.reseq.s1.eval" required>E2: A group need to evaluate all the options</label>
													</div>
												</div>
											</div>	
											<!-- choose evaluation scale -->
											<div class="form-group">
												<div class="col-md-6">
													<label class="control-label">Identify the evaluation scale (number of stars):</label>
												</div>
												<div class="col-md-2">
													<input name="res2star" type="number" step="any" class="form-control" ng-model="mapstep2.reseq.s1.scale" required>
												</div>
												<div class="col-md-2">
													<label class="control-label">stars</label>
												</div>
											</div>
										</div> 
									</div>
								</div>
								<!-- step 2 -->
								<div class="panel panel-default">
									<div class="panel-heading">
										<h4 class="panel-title">
										  <a data-toggle="collapse" data-parent="#s1steps" data-target="#s1s2">Stage 3: compare options and make decision</a>
										</h4>
									</div>
									<div class="panel-collapse collapse" id="s1s2">
										<div class="form-horizontal markerArea">
											<!-- customized title -->
											<div class="form-group">
												<label class="control-label col-md-3" for="res2title">
													Title
												</label>
												<div class="col-md-9">
													<input type="text" class="form-control" name="res2title" ng-model="mapstep2.reseq.s2.title" required>
												</div>
											</div>
											<!-- pop-up dialogue -->
											<div class="form-group">
												<label class="control-label col-md-3" for="res2dlg">
													Guidance in the 
													<br>
													pop-up dialogue
												</label>
												<div class="col-md-9">
													<textarea class="form-control" name="res2dlg" ng-model="mapstep2.reseq.s2.dlg" placeholder="Detailed description in the pop-up dialog" rows="4" required></textarea>
												</div>
											</div>	
											<!-- number of final decision -->
											<div class="form-group">
												<div class="col-md-12">
													<label class="control-label pull-left">
														Choose how many options you want students to choose in the end:
													</label>
												</div>
												<div class="col-md-12 btn-group">
													<div class="radio col-md-12">
														<label><input type="radio" name="t2alt" value="one" ng-model="mapstep2.reseq.s2.alter" required>Choose only one option</label>
													</div>
													<div class="radio col-md-12">
														<label><input type="radio" name="t2alt" value="multiple" ng-model="mapstep2.reseq.s2.alter" required>Choose multiple options</label>
													</div>
												</div>
											</div>	
										</div>
										
									</div>
								</div>
								<div class="panel panel-default">
									<!-- optional step3 -->
									<div class="panel-heading">
										<h4 class="panel-title" ng-class="{grey: !mapstep2.reseq.s3.exist}">
										    <input type="checkbox" ng-model="mapstep2.reseq.s3.exist">
										  	<a data-toggle="collapse" data-parent="#s1steps" data-target="#s1s3">Stage 4 (optional): justification</a>
										</h4>
									</div>
									<div class="panel-collapse collapse" id="s1s3">
										<div ng-show="mapstep2.reseq.s3.exist">
											<div class="form-horizontal markerArea" role="form">
												<!-- cuostomized title -->
												<div class="form-group">
													<label class="control-label col-md-3" for="res3title">
														Title
													</label>
													<div class="col-md-9">
														<input type="text" class="form-control" name="res3title" ng-model="mapstep2.reseq.s3.title" required>
													</div>
												</div>
												<!-- pop-up dialogue -->
												<div class="form-group">
													<label class="control-label col-md-3" for="res3dlg">
														Guidance in the 
														<br>
														pop-up dialogue
													</label>
													<div class="col-md-9">
														<textarea class="form-control" name="res3dlg" ng-model="mapstep2.reseq.s3.dlg" placeholder="Detailed description in the pop-up dialog" rows="4" required></textarea>
													</div>
												</div>					
											</div>
										</div>
									</div>
								</div>
							</div> 
						</div>
					</form>

					<a class="btn btn-primary" class="formerStepBtn" ng-click="changeStep($event)" href="#/step1"> <span class="glyphicon glyphicon-chevron-left"></span> Back</a>
					<a class="btn btn-primary pull-right" class="nextStepBtn" ng-click="changeStep($event)" href="#/step3">Next <span class="glyphicon glyphicon-chevron-right"></span></a>
				</div>
			</div>
		</div>
	</div>
</div>
